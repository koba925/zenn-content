---
title: "真偽値を実装する"
---

* 真偽値型(bool)を作る → 本編初めの方で
　`"123"`という文字列を`123`という数に変換していたように、`"true"`という文字列をPythonの`True`に変換してやり、あとは　今まで数が入っている前提で処理していたところで、型を見て処理するようにします。型が合わないところではエラーにすることも。
  Pythonのboolを使います。
  等号・不等号などの処理はかえってシンプルになりますね。

式の評価には手を入れてませんが true + 1 とかしたらどうなると思います？
型チェックしてませんし型が合わなくてランタイムエラーですかね
ふつうそう思いますよね

```
Input source and enter Ctrl+D:
print true + 1;
Output:
['program', ['print', ['+', True, 1]]]
2
```

なになに？
知ってる人は知ってると思いますがPythonのTrue・Falseはintなんです

```
>>> isinstance(True, int)
True
>>> True + 1
2
```

ええええ
そういう仕様もあるということです
どういう仕様にするかはあなた次第です

ここはPythonの仕様を尊重して（うそ）そのままにします

## 等号

優先順位は低い
`=`は等しければ1、等しくなければ0
`#`[^not-equal]は等しくなければ1、等しければ0を返します。

[^not-equal]: ≠に見えますね？

あまり使い勝手はよくありませんが普通に左結合で実装します。
エラーにしてもいいんですけど。

`1 = 2 = 3`はまず1と2を比較して異なるので0、
次にその0と3を比較して異なるので全体として0という値になります。
Pythonのように`1 == 1 == 1`とか`1 < 2 < 3`がTrueになったりする便利仕様ではありません[^multi-equal]。

[^multi-equal]: 


