---
title: "はじめに"
---

インタプリタとかコンパイラとかいわゆる言語処理系ってやつ、なんか面白そうなんだけど難しいんじゃ？と思っているひと[^myself]の心の壁が少しでも低くなればと思って書いてみました。

[^myself]: 以前の私です。

狙い
言語処理系の基礎が少しわかる
自分でもできそうだなと感じられる
ちょっといじってみようと思えるサイズ感
ちょっと本格的な本を読んでみようという気になる

横道にそれたことも書く

一気に読みきれること
見なくても書けるくらい
違うアイデアが思いついたらちょっと書いてみるくらい
短さ

見渡せる範囲
1行に詰め込む
縦横バランスよく伸びてほしい

インタプリタの作り方に興味はあるけどあんまり勉強したことのない人向け

Pythonについては基本的な知識はある、くらいからを想定してます。
そんなに難しいことはしませんが、基本を超えてるなと思ったら都度説明していきます。

エラー処理は最低限

書籍の形にしてますが記事にするには長すぎるというだけなので
本っぽい書き方にはなってませんがご了承ください。

いきなりですが「300行」についてお断りです（先に誤っておこう）。

宗教上の理由で普通なら改行を入れるところに入れていないので
フォーマッタにかけると行が増えてしまいます。すみません。
コメントはありません。変数名などはわかりやすくしたつもりなのでそれで許してください。


（どこに書くとよい？
簡単な仕様とは
次を読むだけで（先読みしないで）
今読んでいるひとかたまりが終わりかどうかわかる
次が何なのかわかる

考え方は入れる
機能は削る

ソースコードは https://github.com/koba925/minilang でも見ることができます。
サンプルごとにcommitしているので、差分も見ることができます。
vscodeでdevcontainerを作って動かす環境になっていますので、vscode+dockerの環境があれば簡単に環境構築ができます。
（自分の環境以外では試していないのでうまくいかなかったらすみません）
なお、ローカルで見たりいじったりする場合はzipでダウンロードして展開をおすすめします。
将来堂々とタグを打ち直したりとか、下手するとリポジトリごと作り直したりするかもしれない[^retag]ので、cloneやforkするとおかしなことになる可能性があります。

[^retag]: この本のように差分を積み重ねていくやりかただと「ああ、ここはこう書いておけばよかった」というときコミットを遡って修正して、
この本を書くときに開発で使っていたリポジトリとは別のリポジトリを作ってgit initからひとつずつcommitしなおしたりしてるので。
過去にさかのぼって修正を適用しようとするとめんどくさいです。
なにかいい方法ご存じでしたら教えてください。

おことわり

・300行というのは若干サバを読んでいて、フォーマッタにかけると350行くらいです。
　1行でいっぱい書きたくなるので。
・エラーチェックとテストはガバガバです。ちゃんと書いてあれば動くし、ところどころチェックもされている、くらいのレベル感です。
　構文上のエラーはまずまずひろっていると思いますがランタイムエラーは補足できてない／していないところも。